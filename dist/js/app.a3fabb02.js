(function(){"use strict";var t={7048:function(t,r,e){var n=e(6768),a=e(1114),o=(e(8992),e(3949),e(4232)),s=e(144);const l={class:"Lottery"},u={class:"turntable"};var c={__name:"TurntableComponent",props:{AwardsValue:Array},setup(t){const r=t;class e{constructor(){(0,a.A)(this,"title","lottery"),(0,a.A)(this,"AwardsArray",[]),(0,a.A)(this,"Old_AwardsArray_Length",0),(0,a.A)(this,"AwardsStyles",[]),(0,a.A)(this,"AwardsColor",[]),(0,a.A)(this,"Angle",0),(0,a.A)(this,"Slice",0)}}const c=(0,s.Kh)(new e),i=(0,s.KR)(!1),d=(0,s.KR)("rotate(0deg)"),v=(0,s.KR)("none");(0,n.wB)((()=>r.AwardsValue),((t,r)=>{c.AwardsArray=t,c.Old_AwardsArray_Length=r??length,f()}));const f=()=>{if(null!=c.AwardsArray){const t=c.AwardsArray.length;c.Angle=360/t,c.Slice=c.Angle/3.6,c.AwardsArray.forEach(((t,r)=>{const e=r>c.Old_AwardsArray_Length||void 0==c.AwardsColor[r]?A():c.AwardsColor[r];c.AwardsColor[r]=e}))}},A=()=>{let t,r,e,n;do{const n=229,a=255,o=204,s=229,l=204,u=229;t=Math.floor(Math.random()*(a-n+1))+n,r=Math.floor(Math.random()*(s-o+1))+o,e=Math.floor(Math.random()*(u-l+1))+l}while(t===r&&r===e||0===t&&0===r&&0===e||255===t&&255===r&&255===e||r>t&&r>e);return n=.2126*t+.7152*r+.0722*e,n<128&&(t=Math.min(t+100,255),r=Math.min(r+100,255),e=Math.min(0)),`rgba(${t}, ${r}, ${e})`},h=()=>{if(c.AwardsArray.length<2)return void alert("請先填寫選項!");if(1==i.value)return;console.log("start"),i.value=!0;const t=Math.round(100*p(d.value))/100,r=3600+t+330*Math.random()+30;console.log(t),console.log(r),v.value="10s transform ease-in-out",setTimeout((()=>{i.value=!1,v.value="none",d.value=`rotate(${r%360}deg)`;const t=360-r%360,e=Math.ceil(t/c.Angle);alert(`恭喜選到第 ${e} 個選項`)}),1e4),d.value=`rotate(${r}deg)`},p=t=>{const r=t.match(/matrix\((.+)\)/);if(!r)return 0;const[e,n]=r,a=Math.atan2(n,e),o=a*(180/Math.PI);return(o+360)%360};return(t,r)=>((0,n.uX)(),(0,n.CE)("div",l,[(0,n.Lk)("div",u,[(0,n.Lk)("div",{class:"start",style:(0,o.Tr)({transform:d.value,transition:i.value?v.value:null})},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(c.AwardsArray,((t,r)=>((0,n.uX)(),(0,n.CE)("div",{key:r,class:"item",style:(0,o.Tr)({background:`conic-gradient(${c.AwardsColor[r]} 0% ${c.Slice}%, transparent ${c.Slice}% 100%)`,transform:`rotate(${c.Angle*r}deg)`})},[(0,n.Lk)("div",{class:"inner",style:(0,o.Tr)({transform:`rotate(${360==c.Angle?0:c.Angle/2}deg)`})},[(0,n.Lk)("span",null,(0,o.v_)(t),1)],4)],4)))),128))],4),r[0]||(r[0]=(0,n.Lk)("div",{class:"pointer"},null,-1))]),(0,n.Lk)("div",{class:"btn_start"},[(0,n.Lk)("button",{class:"btn btn-success",onClick:h},"開抽!")])]))}},i=e(1241);const d=(0,i.A)(c,[["__scopeId","data-v-56052904"]]);var v=d,f=(e(4520),e(5130)),A={__name:"OptionComponent",emits:["processText"],setup(t,{emit:r}){const e=()=>{const t=document.getElementsByTagName("textarea");t[0].value="",a.value=null,o("processText",a.value)},a=(0,s.KR)(""),o=r,l=()=>{const t=a.value.split(/\r?\n/).filter((t=>""!=t));o("processText",t)};return(t,r)=>((0,n.uX)(),(0,n.CE)("div",null,[(0,n.bo)((0,n.Lk)("textarea",{"onUpdate:modelValue":r[0]||(r[0]=t=>a.value=t),onKeyup:(0,f.jR)(l,["enter"])},null,544),[[f.Jo,a.value]]),(0,n.Lk)("button",{class:"btn btn-success",onClick:e},"全部清除")]))}};const h=(0,i.A)(A,[["__scopeId","data-v-24219504"]]);var p=h;const g={class:"body"};var w={__name:"App",setup(t){const r=(0,s.KR)(""),e=t=>{r.value=t};return(t,a)=>((0,n.uX)(),(0,n.CE)("div",g,[(0,n.bF)(v,{AwardsValue:r.value},null,8,["AwardsValue"]),(0,n.bF)(p,{AwardsValue:r.value,onProcessText:e},null,8,["AwardsValue"])]))}};const m=(0,i.A)(w,[["__scopeId","data-v-cce519e4"]]);var y=m;(0,f.Ef)(y).mount("#app")}},r={};function e(n){var a=r[n];if(void 0!==a)return a.exports;var o=r[n]={exports:{}};return t[n].call(o.exports,o,o.exports,e),o.exports}e.m=t,function(){var t=[];e.O=function(r,n,a,o){if(!n){var s=1/0;for(i=0;i<t.length;i++){n=t[i][0],a=t[i][1],o=t[i][2];for(var l=!0,u=0;u<n.length;u++)(!1&o||s>=o)&&Object.keys(e.O).every((function(t){return e.O[t](n[u])}))?n.splice(u--,1):(l=!1,o<s&&(s=o));if(l){t.splice(i--,1);var c=a();void 0!==c&&(r=c)}}return r}o=o||0;for(var i=t.length;i>0&&t[i-1][2]>o;i--)t[i]=t[i-1];t[i]=[n,a,o]}}(),function(){e.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(r,{a:r}),r}}(),function(){e.d=function(t,r){for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)}}(),function(){var t={524:0};e.O.j=function(r){return 0===t[r]};var r=function(r,n){var a,o,s=n[0],l=n[1],u=n[2],c=0;if(s.some((function(r){return 0!==t[r]}))){for(a in l)e.o(l,a)&&(e.m[a]=l[a]);if(u)var i=u(e)}for(r&&r(n);c<s.length;c++)o=s[c],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return e.O(i)},n=self["webpackChunklottery"]=self["webpackChunklottery"]||[];n.forEach(r.bind(null,0)),n.push=r.bind(null,n.push.bind(n))}();var n=e.O(void 0,[504],(function(){return e(7048)}));n=e.O(n)})();
//# sourceMappingURL=app.a3fabb02.js.map