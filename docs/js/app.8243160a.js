(function(){"use strict";var t={2079:function(t,r,n){var e=n(6768),a=n(1114),o=(n(8992),n(3949),n(4232)),s=n(144);const l={class:"Lottery"},u={class:"turntable"};var c={__name:"TurntableComponent",props:{AwardsValue:Array},setup(t){const r=t;class n{constructor(){(0,a.A)(this,"title","lottery"),(0,a.A)(this,"AwardsArray",[]),(0,a.A)(this,"Old_AwardsArray_Length",0),(0,a.A)(this,"AwardsStyles",[]),(0,a.A)(this,"AwardsColor",[]),(0,a.A)(this,"Angle",0),(0,a.A)(this,"Slice",0)}}const c=(0,s.Kh)(new n),i=(0,s.KR)(!1),d=(0,s.KR)("rotate(0deg)"),v=(0,s.KR)("none");(0,e.wB)((()=>r.AwardsValue),((t,r)=>{c.AwardsArray=t,c.Old_AwardsArray_Length=r??length,f()}));const f=()=>{if(null!=c.AwardsArray){const t=c.AwardsArray.length;c.Angle=360/t,c.Slice=c.Angle/3.6,c.AwardsArray.forEach(((t,r)=>{const n=r>c.Old_AwardsArray_Length||void 0==c.AwardsColor[r]?A():c.AwardsColor[r];c.AwardsColor[r]=n}))}},A=()=>{let t,r,n,e;do{const e=229,a=255,o=204,s=229,l=204,u=229;t=Math.floor(Math.random()*(a-e+1))+e,r=Math.floor(Math.random()*(s-o+1))+o,n=Math.floor(Math.random()*(u-l+1))+l}while(t===r&&r===n||0===t&&0===r&&0===n||255===t&&255===r&&255===n||r>t&&r>n);return e=.2126*t+.7152*r+.0722*n,e<128&&(t=Math.min(t+100,255),r=Math.min(r+100,255),n=Math.min(0)),`rgba(${t}, ${r}, ${n})`},h=()=>{if(c.AwardsArray.length<2)return void alert("請先填寫選項!");if(1==i.value)return;console.log("start"),i.value=!0;const t=Math.round(100*p(d.value))/100,r=3600+t+330*Math.random()+30;console.log(t),console.log(r),v.value="10s transform ease-in-out",setTimeout((()=>{i.value=!1,v.value="none",d.value=`rotate(${r%360}deg)`;const t=360-r%360,n=Math.ceil(t/c.Angle);alert(`恭喜選到第 ${n} 個選項`)}),1e4),d.value=`rotate(${r}deg)`},p=t=>{const r=t.match(/matrix\((.+)\)/);if(!r)return 0;const[n,e]=r,a=Math.atan2(e,n),o=a*(180/Math.PI);return(o+360)%360};return(t,r)=>((0,e.uX)(),(0,e.CE)("div",l,[(0,e.Lk)("div",u,[(0,e.Lk)("div",{class:"start",style:(0,o.Tr)({transform:d.value,transition:i.value?v.value:null})},[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(c.AwardsArray,((t,r)=>((0,e.uX)(),(0,e.CE)("div",{key:r,class:"item",style:(0,o.Tr)({background:`conic-gradient(${c.AwardsColor[r]} 0% ${c.Slice}%, transparent ${c.Slice}% 100%)`,transform:`rotate(${c.Angle*r}deg)`})},[(0,e.Lk)("div",{class:"inner",style:(0,o.Tr)({transform:`rotate(${360==c.Angle?0:c.Angle/2}deg)`})},[(0,e.Lk)("span",null,(0,o.v_)(t),1)],4)],4)))),128))],4),r[0]||(r[0]=(0,e.Lk)("div",{class:"pointer"},null,-1))]),(0,e.Lk)("div",{class:"btn_start"},[(0,e.Lk)("button",{class:"btn btn-success",onClick:h},"開抽!")])]))}},i=n(1241);const d=(0,i.A)(c,[["__scopeId","data-v-258ba4f4"]]);var v=d,f=(n(4520),n(5130)),A={__name:"OptionComponent",emits:["processText"],setup(t,{emit:r}){const n=()=>{const t=document.getElementsByTagName("textarea");t[0].value="",a.value=null,o("processText",a.value)},a=(0,s.KR)(""),o=r,l=()=>{const t=a.value.split(/\r?\n/).filter((t=>""!=t));o("processText",t)};return(t,r)=>((0,e.uX)(),(0,e.CE)("div",null,[(0,e.bo)((0,e.Lk)("textarea",{"onUpdate:modelValue":r[0]||(r[0]=t=>a.value=t),onKeyup:(0,f.jR)(l,["enter"])},null,544),[[f.Jo,a.value]]),(0,e.Lk)("button",{class:"btn btn-success",onClick:n},"全部清除")]))}};const h=(0,i.A)(A,[["__scopeId","data-v-24219504"]]);var p=h;const g={class:"body"};var w={__name:"App",setup(t){const r=(0,s.KR)(""),n=t=>{r.value=t};return(t,a)=>((0,e.uX)(),(0,e.CE)("div",g,[(0,e.bF)(v,{AwardsValue:r.value},null,8,["AwardsValue"]),(0,e.bF)(p,{AwardsValue:r.value,onProcessText:n},null,8,["AwardsValue"])]))}};const m=(0,i.A)(w,[["__scopeId","data-v-297b6d85"]]);var y=m;(0,f.Ef)(y).mount("#app")}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}};return t[e].call(o.exports,o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(r,e,a,o){if(!e){var s=1/0;for(i=0;i<t.length;i++){e=t[i][0],a=t[i][1],o=t[i][2];for(var l=!0,u=0;u<e.length;u++)(!1&o||s>=o)&&Object.keys(n.O).every((function(t){return n.O[t](e[u])}))?e.splice(u--,1):(l=!1,o<s&&(s=o));if(l){t.splice(i--,1);var c=a();void 0!==c&&(r=c)}}return r}o=o||0;for(var i=t.length;i>0&&t[i-1][2]>o;i--)t[i]=t[i-1];t[i]=[e,a,o]}}(),function(){n.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(r,{a:r}),r}}(),function(){n.d=function(t,r){for(var e in r)n.o(r,e)&&!n.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:r[e]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)}}(),function(){var t={524:0};n.O.j=function(r){return 0===t[r]};var r=function(r,e){var a,o,s=e[0],l=e[1],u=e[2],c=0;if(s.some((function(r){return 0!==t[r]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(u)var i=u(n)}for(r&&r(e);c<s.length;c++)o=s[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(i)},e=self["webpackChunklottery"]=self["webpackChunklottery"]||[];e.forEach(r.bind(null,0)),e.push=r.bind(null,e.push.bind(e))}();var e=n.O(void 0,[504],(function(){return n(2079)}));e=n.O(e)})();
//# sourceMappingURL=app.8243160a.js.map